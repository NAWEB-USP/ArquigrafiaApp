<div class="bar bar-header bar-stable">
	<button class="button button-positive" ng-click="back()" ng-show="!hideData">Voltar</button>
	<button class="button button-positive" ng-click="forward()" ng-show="hideData">Continuar Cadastro</button>
</div>

<ion-view view-title="Camera">
	<ion-content class="has-header padding" scroll="true">
		<div class="list">
			<form name="submitPhoto" ng-submit="postPhoto()">
				<div id="photoArea" ng-show="hideData">
					<div class="padding" align="center">
						<img style="max-height:150px" ng-if="!!imageURI" ng-src="{{imageURI}}">
					</div>
				
					<div class="padding">
						<button class="button button-block button-positive icon-left ion-camera " ng-click="takePicture()">
							Tirar Foto
						</button>
						<button class="button button-block button-positive icon-left ion-images" ng-click="getPicture()">Escolher Foto</button>
					</div>
				</div>
				
				<div id="data" ng-show="!hideData">
					<input id="photo" name="photo" type="hidden" ng-value="imageURI" ng-minlength="10" required/>

					<label for="title" class="item item-input">
						<span class="input-label">Titulo*:</span>
						<input id="title" name="title" ng-model="data.title" type="text" ng-minlength="5" required/>
					</label>

					<label for="author" class="item item-input">
						<span class="input-label">Autor*:</span>
						<input id="author" name="author" ng-model="data.author" type="text" ng-minlength="5" required/>
					</label>

					<label for="country" class="item item-input">
						<span class="input-label">País*:</span>
						<input id="country" name="country" ng-model="data.country" type="text" ng-minlength="5" required/> 
					</label>

					<label for="tags" class="item item-input">
						<span class="input-label">Tags*:</span>
						<select id="tags" name="tags" ng-model="data.tags" ng-change="showTags(data.tags)" multiple="true" required>
							<option>1</option>
							<option>2</option>
							<option>3</option>
						<select>
					</label>

					<label for="state" class="item item-input">
						<span class="input-label">Estado:</span>
						<select id="state" name="state" ng-model="data.state">
							<option value="">Escolha o Estado</option>
							<option value="AC">Acre</option>
							<option value="AL">Alagoas</option>
							<option value="AM">Amazonas</option>
							<option value="AP">Amapa</option>
							<option value="BA">Bahia</option>
							<option value="CE">Ceara</option>
							<option value="DF">Distrito Federal</option>
							<option value="ES">Espirito Santo</option>
							<option value="GO">Goias</option>
							<option value="MA">Maranaho</option>
							<option value="MG">Minas Gerais</option>
							<option value="MS">Mato Grosso do Sul</option>
							<option value="MT">Mato Grosso</option>
							<option value="PA">Para</option>
							<option value="PB">Paraiba</option>
							<option value="PE">Pernambuco</option>
							<option value="PI">Piaui</option>
							<option value="PR">Parana</option>
							<option value="RJ">Rio de Janeiro</option>
							<option value="RN">Rio Grande do Norte</option>
							<option value="RO">Rondonia</option>
							<option value="RR">Roraima</option>
							<option value="RS">Rio Grande do Sul</option>
							<option value="SC">Santa Catarina</option>
							<option value="SE">Serguipe</option>
							<option value="SP">Sao Paulo</option>
							<option value="TO">Tocantins</option>
						</select>
					</label>

					<label for="city" class="item item-input">
						<span class="input-label">Cidade:</span>
						<input id="city" name="city" ng-model="data.city" type="text"/> 
					</label>

					<label for="district" class="item item-input">
						<span class="input-label">Bairro:</span>
						<input id="district" name="district" ng-model="data.district" type="text"/> 
					</label>

					<label for="address" class="item item-input">
						<span class="input-label">Endereco:</span>
						<input id="address" name="address" ng-model="data.address" type="text"/> 
					</label>

					<label for="imageDate" class="item item-input">
						<span class="input-label">Data da Imagem:</span>
						<input id="imageDate" name="imageDate" ng-model="data.imageDate" type="date"/>
					</label>

					<label for="workAuthor" class="item item-input">
						<span class="input-label">Autor da Obra:</span>
						<input id="workAuthor" name="workAuthor" ng-model="data.workAuthor" type="text"/>
					</label>

					<label for="workYear" class="item item-input">
						<span class="input-label">Ano de conclusao da obra:</span>
						<input id="workYear" name="workYear" ng-model="data.workYear" type="text"/>
					</label>

					<label for="description" class="item item-input">
						<span class="input-label">Descricao:</span>
						<textarea id="description" name="description" ng-model="data.description"></textarea> 
					</label>

					<ion-checkbox class="item-text-wrap" ng-model="data.licenca" required>* Sou o autor da imagem ou possuo permissão expressa do autor para disponibilizá-la no Arquigrafia</ion-checkbox>

					<div class="padding">
						<p>Escolho a licenca <a id="creative_commons" href="http://creativecommons.org/licenses//?lang=pt-BR" target="_blank" style="text-decoration: undeline; line-height=1.em;">Creative Commons</a>, para publicar a imagem, com as seguintes permissoes:</p>
					</div>
					
					<div class="row">
						<div class="col">
							<label>Permitir o uso comercial da imagem?</label>
							<ion-radio name="comercialUsage" ng-model="comercialUsage" ng-value="true">Sim</ion-radio>
							<ion-radio name="comercialUsage" ng-model="comercialUsage" ng-value="false">Nao</ion-radio>
						</div>

						<div class="col">
							<label>Permitir modificacoes em sua imagem?</label>
							<ion-radio name="modifications" ng-model="modifications" ng-value="yes">Sim</ion-radio>
							<ion-radio name="modifications" ng-model="modifications" ng-value="yes_sa">Sim, contanto que os outros compartilhem de forma semelhante</ion-radio>
							<ion-radio name="modifications" ng-model="modifications" ng-value="no">Nao</ion-radio>
						</div>
					</div>

					<div class="padding" style="color:#F00;">
						<p>* Campos obrigatorios</p>

						<p ng-show="submitPhoto.title.$error.minlength && submitPhoto.title.$touched">
							<i class="ion-information-circled"></i>
							Titulo precisa ter 5 ou mais caracteres
						</p>

						<p ng-show="submitPhoto.author.$error.minlength && submitPhoto.author.$touched">
							<i class="ion-information-circled"></i>
							Nome do autor precisa ter 5 ou mais caracteres
						</p>

						<p ng-show="submitPhoto.country.$error.minlength && submitPhoto.country.$touched">
							<i class="ion-information-circled"></i>
							Pais precisa ter 5 ou mais caracteres
						</p>

						<p ng-show="submitPhoto.tags.$error.minlength && submitPhoto.tags.$touched">
							<i class="ion-information-circled"></i>
							Tags precisam ter 5 ou mais caracteres
						</p>

						<p ng-show="!(!!imageURI)">
							<i class="ion-information-circled"></i>
							Selecione uma imagem
						</p>
					</div>

					<div class="padding">
						<button class="button button-block button-positive" type="submit" ng-disabled="submitPhoto.$invalid || !!(!imageURI)">Enviar</button>
					</div>
				</div>
			</form>
		</div>
	</ion-content> 
</ion-view>