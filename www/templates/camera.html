<div class="bar bar-header bar-stable">
	<img src="img/logo.svg">
	<button class="button button-arq pull-right" ng-click="back()" ng-show="!hideData">Voltar</button>
	<button class="button button-arq pull-right" ng-click="forward()" ng-show="shouldShow()">Continuar Cadastro</button>
</div>

<ion-view view-title="Câmera">
	<ion-content class="has-header" scroll="true" overflow-scroll="true" id="camera">
		<div class="list">
			<form name="submitPhoto">
				<div id="photoArea" ng-show="hideData">
					<div class="padding clearfix">
						<button class="button button-arq icon ion-camera" ng-click="takePicture()">
						</button>
						<button class="button button-arq icon ion-images" ng-click="getPicture()"></button>
					</div>
					<div class="padding" id="image-upload" align="center">
						<img ng-if="!!imageURI" ng-src="{{imageURI}}">
					</div>
					<div><p class="padding">Favor habilitar o serviço de GPS para preencher a localização automaticamente.</p></div>
				</div>

				<div id="data" class="list" ng-show="!hideData">

					<div class="item item-divider">
						Informações obrigatórias
					</div>
					<label for="title" class="item item-input">
						<span class="input-label">Título*:</span>
						<input id="title" ng-model="data.title" type="text" ng-minlength="2" required/>
					</label>

					<label for="author" class="item item-input">
						<span class="input-label">Autor da Imagem*:</span>
						<input id="author" ng-model="data.author" type="text" ng-minlength="2" required/>
					</label>

					<label for="country" class="item item-input">
						<span class="input-label">País*:</span>
						<input id="country" ng-model="data.country" type="text" ng-minlength="2" required/>
					</label>

					<div class="item">
						<div style="width: 20%; float: left;">
							<span class="input-label">Tags*:</span>
						</div>
						<div style="width: 80%; float: right;">
							<button class="button button-small button-arq button-shy" modal-select ng-model="teste" options="tags" modal-title="Selecione uma Tag" has-search="true" on-select="getTag(newValue, oldValue)">
										Selecionar
										<div class="option">
												{{option.name}}
										</div>
								</button>
							<button id="meuNome" class="button button-small button-arq button-shy" ng-click="addTag()">Adicionar</button>
						</div>
						<div style="clear: both; white-space: normal; padding-top: 10px" >
							<button class="button button-small button-dark icon-right ion-close" ng-repeat="tag in data.tags" ng-click="removeTag(tag)">{{tag}}</button>
						</div>
					</div>

					<div class="item item-divider" style="margin-top: 30px;" ng-show="!showAditional" ng-click="toggle()">Informações opcionais<i class="ion-plus"></i></div>
					<div class="item item-divider" style="margin-top: 30px;" ng-show="showAditional" ng-click="toggle()">Informações opcionais<i class="ion-minus"></i></div>
					<div id="aditionalInfo" class="slideAnimation" ng-show="showAditional">
						<label for="state" class="item item-input">
							<span class="input-label">Estado:</span>
							<select id="state" ng-model="data.state">
								<option value="">Escolha o Estado</option>
								<option value="AC">Acre</option>
								<option value="AL">Alagoas</option>
								<option value="AM">Amazonas</option>
								<option value="AP">Amapá</option>
								<option value="BA">Bahia</option>
								<option value="CE">Ceará</option>
								<option value="DF">Distrito Federal</option>
								<option value="ES">Espírito Santo</option>
								<option value="GO">Goiás</option>
								<option value="MA">Maranhão</option>
								<option value="MG">Minas Gerais</option>
								<option value="MS">Mato Grosso do Sul</option>
								<option value="MT">Mato Grosso</option>
								<option value="PA">Pará</option>
								<option value="PB">Paraíba</option>
								<option value="PE">Pernambuco</option>
								<option value="PI">Piauí</option>
								<option value="PR">Paraná</option>
								<option value="RJ">Rio de Janeiro</option>
								<option value="RN">Rio Grande do Norte</option>
								<option value="RO">Rondônia</option>
								<option value="RR">Roraima</option>
								<option value="RS">Rio Grande do Sul</option>
								<option value="SC">Santa Catarina</option>
								<option value="SE">Sergipe</option>
								<option value="SP">São Paulo</option>
								<option value="TO">Tocantins</option>
							</select>
						</label>

						<label for="city" class="item item-input">
							<span class="input-label">Cidade:</span>
							<input id="city" ng-model="data.city" type="text"/>
						</label>

						<label for="district" class="item item-input">
							<span class="input-label">Bairro:</span>
							<input id="district" ng-model="data.district" type="text"/>
						</label>

						<label for="address" class="item item-input">
							<span class="input-label">Endereço:</span>
							<input id="address" name="address" ng-model="data.address" type="text"/>
						</label>

						<label for="imageDate" class="item item-input">
							<span class="input-label">Data da Imagem:</span>
							<input id="imageDate" name="imageDate" ng-model="data.imageDate" type="date"/>
						</label>

						<label for="workAuthor" class="item item-input">
							<span class="input-label">Autor da Obra:</span>
							<input id="workAuthor" name="workAuthor" ng-model="data.workAuthor" type="text"/>
						</label>

						<label for="workYear" class="item item-input">
							<span class="input-label">Ano de conclusão da obra:</span>
							<input id="workYear" name="workYear" ng-model="data.workYear" type="number" max="2018" maxlength="4"/>
						</label>

						<label for="description" class="item item-input">
							<span class="input-label">Descrição:</span>
							<textarea id="description" name="description" ng-model="data.description"></textarea>
						</label>
					</div>

					<div class="item item-divider item-text-wrap">
						Escolho a licença <a id="creative_commons" href="http://creativecommons.org/licenses//?lang=pt-BR" target="_blank" style="text-decoration: undeline; line-height=1.em;">Creative Commons</a>, para publicar a imagem, com as seguintes permissões:
					</div>

					<div class="item item-divider item-divider-light">
						Permitir o uso comercial da imagem?
					</div>
					<div>
						<ion-radio name="comercialUsage" ng-model="data.commercialUsage" ng-value="true" style="margin-top: 15px;">Sim</ion-radio>
						<ion-radio name="comercialUsage" ng-model="data.commercialUsage" ng-value="false" style="margin-bottom: 15px;">Não</ion-radio>
					</div>

					<div class="item item-divider item-divider-light">
						Permitir modificações em sua imagem?
					</div>
					<div>
						<ion-radio name="modifications" ng-model="data.modifications" ng-value="'yes'" style="margin-top: 15px;">Sim</ion-radio>
						<ion-radio class="item-text-wrap" name="modifications" ng-model="data.modifications" ng-value="'yes_sa'">Sim, contanto que os outros compartilhem de forma semelhante</ion-radio>
						<ion-radio name="modifications" ng-model="data.modifications" ng-value="'no'" style="margin-bottom: 15px;">Não</ion-radio>
					</div>

					<div class="item item-divider item-divider-light">
						&nbsp;
					</div>
					<ion-checkbox class="item-text-wrap" ng-model="data.authorized">* Sou o autor da imagem ou possuo permissão expressa do autor para disponibilizá-la no Arquigrafia</ion-checkbox>

					<div class="item item-divider item-divider-light">
						&nbsp;
					</div>
					<div class="item item-error">* Campos obrigatórios</div>
					<div class="item item-error" ng-show="submitPhoto.title.$error.minlength && submitPhoto.title.$touched">
						<i class="ion-information-circled"></i>
						Título precisa ter 2 ou mais caracteres
					</div>

					<div class="item item-error" ng-show="submitPhoto.author.$error.minlength && submitPhoto.author.$touched">
						<i class="ion-information-circled"></i>
						Nome do autor precisa ter 2 ou mais caracteres
					</div>

					<div class="item item-error" ng-show="submitPhoto.country.$error.minlength && submitPhoto.country.$touched">
						<i class="ion-information-circled"></i>
						País precisa ter 2 ou mais caracteres
					</div>

					<div class="item item-error" ng-show="!(!!imageURI)">
						<i class="ion-information-circled"></i>
						Selecione uma imagem
					</div>

					<div class="padding">
						<button class="button button-block button-arq button-inverted" ng-click="postPhoto()" ng-disabled="submitPhoto.$invalid || !(!!imageURI) || (data.tags.length == 0)">Enviar</button>
					</div>
				</div>
			</form>
		</div>
	</ion-content>
</ion-view>
